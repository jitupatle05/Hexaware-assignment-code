

<form
  class="contact-form"
  [formGroup]="form"
  (ngSubmit)="submit()"
  novalidate
>
  <!-- SUCCESS STATE -->
  <div *ngIf="success" class="form-success">
    <h3>Thanks for reaching out</h3>
    <p>We’ll get back to you shortly.</p>
  </div>

  <!-- ERROR STATE -->
  <div *ngIf="error" class="form-error">
    <p>Something went wrong. Please try again.</p>
  </div>

  <!-- FORM -->
  <ng-container  *ngIf="!success">
    <div class="row">
        <div class="col">
            <div class="field">
            <label>Name *</label>
            <input type="text" formControlName="name" />
            <small *ngIf="form.controls.name.touched && form.controls.name.invalid">
                Name is required
            </small>
            </div>
        </div>
        <div class="col">
            <div class="field">
            <label>Email *</label>
            <input type="email" formControlName="email" />
            <small *ngIf="form.controls.email.touched && form.controls.email.invalid">
                Enter a valid email
            </small>
            </div>
        </div>
        <div class="col">
            <div class="field">
            <label>Message *</label>
            <textarea rows="4" formControlName="message"></textarea>
            <small
                *ngIf="form.controls.message.touched && form.controls.message.invalid"
            >
                This firld is required
            </small>
            </div>
        </div>
    </div>

    <button
      type="submit"
      [disabled]="loading"
      class="submit-btn"
    >
      <span *ngIf="!loading">Send message</span>
      <span *ngIf="loading">Sending…</span>
    </button>
  </ng-container>
</form>
